#####################################################################
# 	Voron V2.576 Printer V2.4 Edition
#####################################################################
[mcu]
##	MCU for X/Y/E steppers main MCU
##--------------------------------------------------------------------
serial = /dev/serial/by-id/usb-Klipper_lpc1768_17000004090139AF032A0B5DC72000F5-if00
##--------------------------------------------------------------------

[mcu z]
##	MCU for Z steppers
##--------------------------------------------------------------------
serial = /dev/serial/by-id/usb-Klipper_lpc1768_01900018A0A447AF28DA155DC42000F5-if00
##--------------------------------------------------------------------

[mcu display]
## Arduino MCU for display over USB
##--------------------------------------------------------------------
serial =         /dev/serial/by-path/platform-fd500000.pcie-pci-0000:01:00.0-usb-0:1.2:1.0-port0
pin_map =        arduino
restart_method = arduino
##--------------------------------------------------------------------

[mcu rpi]
## Host Raspberry Pi as MCU for controlling GPIO
##--------------------------------------------------------------------
serial = /tmp/klipper_host_mcu
##--------------------------------------------------------------------

[printer]
kinematics =              corexy
max_velocity =            300  
max_accel =               7000
max_accel_to_decel =      7000
max_z_velocity =          50
max_z_accel =             400
square_corner_velocity =  5.0

#[include configs/non_standard_cfg/*.cfg]
[include configs/*.cfg]

#####################################################################
# 	Optional Firmware Settings
#####################################################################

# Enabled resonance compensation, be careful since it does smooth movements.
[input_shaper]
shaper_freq_x = 65.6
shaper_type_x = zv
shaper_freq_y = 47.2
shaper_type_y = zv

# Pause/Resume Functionality
[pause_resume]

# Timeout after idle, moves printer to center if homed.
[idle_timeout]
timeout = 3600
gcode =
  {% if printer.toolhead.homed_axes == 'xyz' %}
    G91
    G0 Z10 F600
    G90
    G0 X150 Y150 F2400
  {% endif %}
  TURN_OFF_MOTORS
  TURN_OFF_HEATERS
  {% if printer["extruder"].temperature < 50 %}
    UPDATE_DELAYED_GCODE ID=DELAYED_PRINTER_OFF DURATION=60
  {% endif %}

# This adds the 'respond' G-Code that you can use to send commands back to OctoPrint
[respond]
default_type = echo

[force_move]
enable_force_move:          True

## Needed for Moonraker/Mainsail to work
##--------------------------------------------------------------------
[virtual_sdcard]
path = ~/gcode_files
[display_status]
##--------------------------------------------------------------------

[firmware_retraction]
retract_length =         0.4
#   The length of filament (in mm) to retract when G10 is activated, and to
#   unretract when G11 is activated (but see unretract_extra_length below).
#   The default is 0 mm.
retract_speed =          50
#   The speed of retraction, in mm/s. The default is 20 mm/s.
unretract_extra_length = 0
#   The length (in mm) of *additional* filament to add when unretracting.
unretract_speed =        30
#   The speed of unretraction, in mm/s. The default is 10 mm/s.

[bed_mesh]
speed =                    200
horizontal_move_z =        10
probe_count =              9,9
fade_start =               0.5
fade_end =                 25.0
split_delta_z =            0.01
move_check_distance =      3
mesh_pps =                 0,0
algorithm =                bicubic
relative_reference_index = 40
mesh_min =                 40,40
mesh_max =                 260,260

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	  0.027500, 0.032500, 0.035000, 0.032500, 0.030000, 0.030000, 0.017500, 0.020000, 0.027500
#*# 	  0.032500, 0.032500, 0.025000, 0.020000, 0.012500, 0.010000, 0.005000, 0.010000, 0.022500
#*# 	  0.037500, 0.035000, 0.030000, 0.017500, 0.010000, 0.010000, 0.010000, 0.020000, 0.032500
#*# 	  0.030000, 0.025000, 0.015000, 0.002500, -0.002500, -0.005000, -0.005000, 0.007500, 0.025000
#*# 	  0.027500, 0.027500, 0.017500, 0.010000, 0.000000, 0.000000, 0.002500, 0.017500, 0.032500
#*# 	  0.045000, 0.042500, 0.030000, 0.020000, 0.012500, 0.010000, 0.012500, 0.027500, 0.045000
#*# 	  0.047500, 0.045000, 0.037500, 0.025000, 0.020000, 0.015000, 0.020000, 0.035000, 0.057500
#*# 	  0.067500, 0.062500, 0.052500, 0.037500, 0.030000, 0.027500, 0.030000, 0.042500, 0.062500
#*# 	  0.092500, 0.087500, 0.072500, 0.060000, 0.047500, 0.047500, 0.047500, 0.062500, 0.085000
#*# tension = 0.2
#*# min_x = 40.0
#*# algo = bicubic
#*# y_count = 9
#*# mesh_y_pps = 0
#*# min_y = 40.0
#*# x_count = 9
#*# max_y = 260.0
#*# mesh_x_pps = 0
#*# max_x = 260.0
#*#
#*# [bed_mesh 105.0C]
#*# version = 1
#*# points =
#*# 	0.042500, 0.052500, 0.060000, 0.065000, 0.060000, 0.060000, 0.047500, 0.050000, 0.055000
#*# 	0.037500, 0.042500, 0.040000, 0.037500, 0.032500, 0.032500, 0.030000, 0.035000, 0.045000
#*# 	0.035000, 0.040000, 0.037500, 0.032500, 0.025000, 0.025000, 0.022500, 0.035000, 0.045000
#*# 	0.020000, 0.020000, 0.015000, 0.007500, 0.002500, 0.002500, 0.002500, 0.015000, 0.032500
#*# 	0.012500, 0.017500, 0.012500, 0.007500, 0.000000, -0.002500, -0.000000, 0.012500, 0.027500
#*# 	0.012500, 0.015000, 0.005000, -0.000000, -0.002500, -0.002500, -0.000000, 0.015000, 0.032500
#*# 	0.007500, 0.010000, 0.005000, -0.007500, -0.010000, -0.012500, -0.007500, 0.005000, 0.027500
#*# 	0.007500, 0.007500, -0.000000, -0.010000, -0.015000, -0.017500, -0.015000, -0.000000, 0.025000
#*# 	0.020000, 0.025000, 0.015000, 0.005000, -0.002500, -0.002500, -0.002500, 0.012500, 0.035000
#*# tension = 0.2
#*# min_x = 40.0
#*# algo = bicubic
#*# y_count = 9
#*# mesh_y_pps = 0
#*# min_y = 40.0
#*# x_count = 9
#*# max_y = 260.0
#*# mesh_x_pps = 0
#*# max_x = 260.0
#*#
#*# [bed_mesh 70.0C]
#*# version = 1
#*# points =
#*# 	0.045000, 0.057500, 0.060000, 0.062500, 0.060000, 0.062500, 0.050000, 0.055000, 0.065000
#*# 	0.042500, 0.047500, 0.042500, 0.040000, 0.035000, 0.032500, 0.032500, 0.040000, 0.055000
#*# 	0.037500, 0.042500, 0.040000, 0.032500, 0.027500, 0.025000, 0.027500, 0.042500, 0.057500
#*# 	0.025000, 0.022500, 0.017500, 0.012500, 0.005000, 0.005000, 0.007500, 0.022500, 0.042500
#*# 	0.015000, 0.020000, 0.012500, 0.010000, 0.000000, 0.000000, 0.005000, 0.020000, 0.035000
#*# 	0.012500, 0.015000, 0.007500, 0.000000, -0.005000, -0.002500, 0.000000, 0.017500, 0.037500
#*# 	0.005000, 0.007500, 0.002500, -0.007500, -0.012500, -0.012500, -0.007500, 0.007500, 0.032500
#*# 	0.007500, 0.007500, 0.000000, -0.010000, -0.015000, -0.017500, -0.012500, 0.002500, 0.025000
#*# 	0.015000, 0.020000, 0.010000, 0.002500, -0.005000, -0.002500, 0.000000, 0.015000, 0.040000
#*# tension = 0.2
#*# min_x = 40.0
#*# algo = bicubic
#*# y_count = 9
#*# mesh_y_pps = 0
#*# min_y = 40.0
#*# x_count = 9
#*# max_y = 260.0
#*# mesh_x_pps = 0
#*# max_x = 260.0
#*#
#*# [bed_mesh 85.0C]
#*# version = 1
#*# points =
#*# 	  0.027500, 0.032500, 0.035000, 0.032500, 0.030000, 0.030000, 0.017500, 0.020000, 0.027500
#*# 	  0.032500, 0.032500, 0.025000, 0.020000, 0.012500, 0.010000, 0.005000, 0.010000, 0.022500
#*# 	  0.037500, 0.035000, 0.030000, 0.017500, 0.010000, 0.010000, 0.010000, 0.020000, 0.032500
#*# 	  0.030000, 0.025000, 0.015000, 0.002500, -0.002500, -0.005000, -0.005000, 0.007500, 0.025000
#*# 	  0.027500, 0.027500, 0.017500, 0.010000, 0.000000, 0.000000, 0.002500, 0.017500, 0.032500
#*# 	  0.045000, 0.042500, 0.030000, 0.020000, 0.012500, 0.010000, 0.012500, 0.027500, 0.045000
#*# 	  0.047500, 0.045000, 0.037500, 0.025000, 0.020000, 0.015000, 0.020000, 0.035000, 0.057500
#*# 	  0.067500, 0.062500, 0.052500, 0.037500, 0.030000, 0.027500, 0.030000, 0.042500, 0.062500
#*# 	  0.092500, 0.087500, 0.072500, 0.060000, 0.047500, 0.047500, 0.047500, 0.062500, 0.085000
#*# tension = 0.2
#*# min_x = 40.0
#*# algo = bicubic
#*# y_count = 9
#*# mesh_y_pps = 0
#*# min_y = 40.0
#*# x_count = 9
#*# max_y = 260.0
#*# mesh_x_pps = 0
#*# max_x = 260.0
